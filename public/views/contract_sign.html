<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contract Conclusion Certificate Document</title>
    <style>
        @import url('https://fonts.googleapis.com/css?family=Open+Sans|Pinyon+Script|Rochester');

      body {
        font-family:'Open Sans', sans-serif;
      }
      
      .certificate {
        width: 650px;
        height: 900px;
        margin: 0 auto;
        border: 3px solid #353535;
        padding: 40px;
        box-sizing: border-box;
      }
      
      .certificate-header {
        text-align: center;
      }
      
      .certificate-title {
        font-size: 30px;
        font-weight: bold;
        margin-bottom: 40px;
      }

      .certificate-description {
        margin-bottom: 40px;
      }

      .certificate-info {
        margin-top: 40px;
      }
      
      .certificate-recipient {
        font-size: 16px;
        margin-bottom: 10px;
      }
      
      .certificate-signature {
        font-size: 17px;
        font-weight: bold;
      }

      .signature1 {
        text-align: left;
      }

      .signature2 {
        text-align: left;
      }

      canvas {
            border: 2px solid #000;
            border-radius: 3%;
        }

     /* font-family: 'Pinyon Script', cursive; */
    </style>
</head>
<body>
    <div class="certificate">
        <div class="certificate-header">
            <h1 class="certificate-title"><div>계약서 체결 증명서<hr></h1>
        </div>
        <div class="certificate-body">
            <p class="certificate-description">해당 계약 체결 증명서는 "{{contract_filename}}" 계약서에 대한 계약이 성공적으로 체결되었음을 증명하는 법적 효력이 있는 증명서입니다. 해당 인증서는 NFT로 발행되며 계약자 간의 계약이 체결되었음을 공식적으로 MSCP 서비스 기관에서는 인정합니다. 계약서는 위조하거나 변조할 수 없는 독립 실행형 문서입니다. 당사자간에 계약이 입증 되었으므로 아래의  명시되어있는 계약 대상자는 계약서에 명시되어 있는 사실을 모두 확인하고 손수 작성하였으며, 체결을 인정한 것으로 간주됩니다. 인증서는 MSCP 서비스에서 공식적으로 발급하는 계약 인증서입니다. 아래는 계약이 체결된 계약서입니다. 아래의 첨부되어 있는 계약서만을 MSCP 시스템에서는 인증하며, 2차적으로 수정된 계약서, 인증서에 첨부된 계약서와 다른 내용의 계약서는 모두 인정하지 않습니다.<hr style="margin-bottom: 20px;">계약 체결 인증서 발급일자 : <span style="font-family: 'Pinyon Script', cursive;">{{date}}</span><hr style="margin-top: 20px;"></p>
            <div class="certificate-info">
                <div class="signature1">
                  <p class="certificate-signature" style="margin-top: 10px;">계약자1 실명 :&nbsp;&nbsp;&nbsp;<span style="font-family: 'Pinyon Script', cursive;">{{organizer_name}}</span>&nbsp;&nbsp;&nbsp;({{organizer_name}})</p>
                  <hr>
                  <canvas id="canvas" width="250" height="80"></canvas>
              </div>
              <div class="signature2">
                  <p class="certificate-signature" style="margin-top: 30px;">계약자2 실명 :&nbsp;&nbsp;&nbsp;<span style="font-family: 'Pinyon Script', cursive;">{{participant_name}}</span>&nbsp;&nbsp;&nbsp;({{participant_name}})</p>
                  <hr>
                  <canvas id="canvas2" width="250" height="80"></canvas>
              </div>
            </div>
        </div>
    </div>
    <h2 id="data" hidden>{{organizer_signData}}</h2>
    <h2 id="data2" hidden>{{participant_signData}}</h2>
    <h1 id="datas"></h1>
    <script>
      const canvas1 = document.getElementById('canvas');
      const ctx1 = canvas1.getContext('2d');
      const canvas2 = document.getElementById('canvas2');
      const ctx2 = canvas2.getContext('2d');

      function drawSign(ctx, lines, canvas) {
          ctx.clearRect(0, 0, canvas.width, canvas.height);

          lines.forEach(function (line) {
              ctx.beginPath();
              ctx.lineWidth = 3; 
              ctx.moveTo(lines[0].x, lines[0].y);

              lines.forEach(function (point) {
                  ctx.lineTo(point.x, point.y);
              });

              ctx.stroke();
          });
      }

      drawSign(ctx1, JSON.parse(document.getElementById("data").innerText), canvas1);
      drawSign(ctx2, JSON.parse(document.getElementById("data2").innerText), canvas2);
    </script>
</body>
</html>